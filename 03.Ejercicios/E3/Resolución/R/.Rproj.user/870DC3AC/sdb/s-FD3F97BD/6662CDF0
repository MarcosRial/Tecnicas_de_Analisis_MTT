{
    "contents" : "## Máster en Gestión Sostenible de la Tierra y el Territorio\n## Técnicas de Análisis Cuantitativas y Cualitativas\n## Script de R para la realización del efercicio 3 de evaluación\n## 04/11/2015\n## Marcos Rial Docampo\n\n#### Inicio del ejercicio ####\n# Cargamos los datos\ndatos <- read.csv(\"Datos/DatosExerc2.csv\")\n\n# Eliminado de la variable categórica X\ndatos2 <- datos[,-1]\n\n#### Relación entre las 3 variables ####\nplot(datos2, main = \"Relación entre variables\",\n     pch = 21, bg = \"grey\",\n     cex = 0.8, cex.axis = 0.8)\n\n# Otro método\ntriple <- par(mfrow = c(3,1))\npar(triple)\nplot(abandon.uaa~pop.dens, data = datos2,\n     col = \"darkgoldenrod3\", bg = \"azure4\", pch = 21,\n     xlab = \"Densidad de pob. (hab./km2)\",\n     ylab = \"Abandono de sup. agrícola\")\nplot(abandon.uaa~elevation, data = datos2,\n     col = \"darkgoldenrod3\", bg = \"sienna\", pch = 21,\n     xlab = \"Elevación (msnm)\",\n     ylab = \"Abandono de sup. agrícola\")\nplot(pop.dens~elevation, data = datos2,\n     col = \"darkgoldenrod3\", bg=\"burlywood3\", pch = 21,\n     xlab = \"Elevación (msnm)\",\n     ylab = \"Densidad de pob. (hab./km2)\")\n\n#### Estudio de correlación entre variables ####\n# H0 = las variables no están correlacionadas\n# Abandono vs densidad de población\ncor.test(datos2$abandon.uaa, datos2$pop.dens,\n         method = \"pearson\", conf.level = 0.95)\n# Abandono vs elevación\ncor.test(datos2$abandon.uaa, datos2$elevation,\n         method = \"pearson\", conf.level = 0.95)\n# Elevacion vs densidad de población\ncor.test(datos2$elevation, datos2$pop.dens,\n         method = \"pearson\", conf.level = 0.95)\n\n#### Escalado de datos ####\ndatos3 <- scale(datos2)\nsummary(datos3)\n\n#### Método de agrupamiento jerárquico ####\n# Cálculo de distancias euclídeas\ndistancias <- dist(datos3, method = \"euclidean\")\n\n# Agrupamientos y generación del dendrograma\nagrup <- hclust(distancias, method = \"ward.D\")\nplot(agrup, hang = -1, cex = 0.5,\n     main = \"Agrupamientos\",\n     ylab = \"Peso\",\n     xlab = \"\", sub = \"\")\nabline(h = 5, col = \"red\", lty = 2, lwd = 1)\n\n# Generación de grupos (k=5)\ngrupos1 <- cutree(agrup, k = 5)\n\n# Análisis de los grupos con boxplot\nboxplot(abandon.uaa ~ grupos1, data = datos2,\n        pch = 19, col = \"azure4\", cex = 0.8,\n        ylab = \"Abandono de superficie agrícola\",\n        xlab = \"Grupo\")\nabline(h = seq(0,0.6,0.2), col = \"grey\")\n\nboxplot(elevation ~ grupos1, data = datos2,\n        pch = 19, col = \"sienna\", cex = 0.8,\n        ylab = \"Elevación (msnm)\",\n        xlab = \"Grupo\")\nabline(h = seq(0,1400,200), col = \"grey\")\n\nboxplot(pop.dens ~ grupos1, data = datos2,\n        pch = 19, col = \"burlywood3\", cex = 0.8,\n        ylab = \"Densidad de población (hab./km2)\",\n        xlab = \"Grupo\")\nabline(h = seq(0,700,200), col = \"grey\", lty = 1)\n\n#### Método de agrupamiento no jerárquico k-means####\ngrupos2 <- kmeans(datos3, centers = 5)\nprint(grupos2$cluster)\n\n# Para comprar el grado de coincidencia con los grupos anteriores\ntable(grupos1, grupos2$cluster)\n\nboxplot(pop.dens ~ grupos2$cluster, data = datos2,\n        pch = 19, col = \"burlywood3\", cex = 0.8,\n        ylab = \"Densidad de población (hab./km2)\",\n        xlab = \"Grupo\")\n\n#### Exportado de gráficos ####\npng(\"Graficos/BoxDensidad.png\", #cambiar según convenga\n    width=10, height=10/1.5, units=\"cm\",\n    res=300, pointsize=8)\n\ndev.off()\n",
    "created" : 1446658280496.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3304744731",
    "id" : "6662CDF0",
    "lastKnownWriteTime" : 1447358811,
    "path" : "~/MEGA/MasterTerra/Técnicas de Análisis/03.Ejercicios/E3/Resolución/R/Scripts/E3.R",
    "project_path" : "Scripts/E3.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}